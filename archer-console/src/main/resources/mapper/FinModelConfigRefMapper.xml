<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mr.archer.dao.FinModelConfigRefMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.mr.archer.entity.FinModelConfigRef">
        <id column="id" property="id" />
        <result column="modelid" property="modelid" />
        <result column="configid" property="configid" />
        <result column="sortno" property="sortno" />
        <result column="createuser" property="createuser" />
        <result column="createtime" property="createtime" />
        <result column="createorg" property="createorg" />
    </resultMap>

    <select id="selectListByModelId" resultType="com.mr.archer.entity.FinModelConfigRef">
        select
        fmcr.*,
        fc.name as name,
        fc.cols as cols,
        fc.findatatype as findatatype,
        fc.configdesc as configdesc
        from fin_model_config_ref fmcr
        left join fin_config fc on fc.id = fmcr.configid
        where fmcr.modelid = #{modelid}
    </select>

    <update id="updateSortNoById">
        update fin_model_config_ref set sortno=#{sortno} where id=#{id}
    </update>

</mapper>
